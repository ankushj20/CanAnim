"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5011],{55011:(e,t,s)=>{s.d(t,{J:()=>v});var r=s(65723),i=s(17289),a=s(30397),l=s(85540),n=s(4055),o=s(36419),F=s(59790),c=s(77956),d=s(21239),f=s(75937),h=s(93623),j=s(10195),b=s(63471),p=s(50556),u=s(59331),g=s(33428),m=s(47286),S=s(27614);let x=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,l.Fs)(s,S.Tj(([e,t,s,r])=>({disableInfiniteScroll:e,feedDataFetcherParams:t,intersectionObserverRoot:s,intersectionObserverRootMarginBottom:r}))),i=(0,l.Fs)(r,S.x1(({intersectionObserverRoot:e})=>e),S.F()),a=(0,l.Fs)(r,S.Tj(({intersectionObserverRootMarginBottom:e})=>e??2e3),S.F()),n=(0,l.Fs)(r,S.Tj(({feedDataFetcherParams:e})=>e.page),S.F()),o=(0,l.Fs)(S.zV([t,i,a,n]),S.nx(([e,t,s])=>(0,l.Fs)(e,d.YW((0,p.dY)(S.wg),e=>(0,l.Fs)(f.sH(e,{...void 0!==t?{root:t}:null,rootMargin:f.x({top:h.Sj,right:h.Sj,bottom:h.qy(s),left:h.Sj})}),S.pb(f.uV)))))),F=(0,l.Fs)(r,S.Tj(e=>e.disableInfiniteScroll),S.F());return(0,l.Fs)(r,S.XM(S.h1((0,l.Fs)(S.zV([o,F]),S.pb(([e,t])=>!1===t)),e)))},I=e=>t=>{let s=(0,l.Fs)(t,S.Tj(([e,t,s,r])=>({hasFetchedAllPages:e,feedDataFetcherParams:t,feedDataFetcher:s,dependencies:r}))),r=(0,l.Fs)(s,S.XM(e),S.dM(({feedDataFetcherParams:e})=>e.page),S.Or(({hasFetchedAllPages:e})=>!1===e));return(0,l.Fs)(r,S.EY(s,(e,t)=>t),S.ZZ(({feedDataFetcherParams:e,feedDataFetcher:t,dependencies:s})=>(0,l.Fs)(t(e),m.Bb(s),g.Tj(([e])=>e),g.L5(3))))},T=e=>{let t=(0,b.h6)(),s=(0,u.J)(x({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],i=(0,u.J)(I(s),r);(0,j.so)(i)},M=({total:e,perPage:t})=>Math.ceil(e/t),O=e=>e.lastPageFetched>=M(e),Y=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),k=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:o,disableInfiniteScroll:F,...d})=>{let[f,h]=(0,i.z)(e=>(0,l.Fs)(e,c.rT)),j=a.Krr(()=>Y(e),[e]),b=a.Krr(()=>O(e),[e]);return T({...d,disableInfiniteScroll:F,feedDataFetcherParams:j,hasFetchedAllPages:b,footerRefOption$:h}),(0,r.jsxs)(a.iau,{children:[s({items:t,total:e.total}),(0,r.jsx)(a.iau,{"data-testid":n.n,ref:f}),!1===b&&!1===F&&(e.isLoading??!0)&&o()]})},v=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:n,disableInfiniteScroll:c,...f})=>(0,l.Fs)(d.CO(e,t),d.YW(i,([e,t])=>{let i=O(e),h=i||c||o.Im(t);return(0,r.jsxs)(a.Ut5,{children:[(0,l.Fs)(t,F.ci,d.YW(s,t=>(0,r.jsx)(k,{...f,feedState:e,feedItems:t,disableInfiniteScroll:c}))),h&&n({isEmpty:o.Im(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:c})]})}))}}]);