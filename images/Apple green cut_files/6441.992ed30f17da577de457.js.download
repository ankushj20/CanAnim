"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6441],{47688:(e,a,d)=>{d.d(a,{GL:()=>E,Gk:()=>g,L1:()=>L,Xg:()=>_,q4:()=>C});var r=d(10105),s=d(57374),t=d(97692),n=d(34776),o=d(38903),c=d(50556),i=d(85540),l=d(37934),h=d(62952),p=d(2712),F=d(36419),m=d(5838),T=d(325),k=d(92127),I=d(59790),u=d(33428),j=d(21239),v=d(73036),S=d(32218),q=d(7457),f=d(99840),U=d(8780);let b=o.Z.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),C=e=>{switch(e){case"development":return o.Z.matchX({HomepageHeader:(0,c.dY)(307171),SayThanksCardMobile:(0,c.dY)(237077),SayThanksCardTabletUp:(0,c.dY)(237076),TopicsInFeed:n.Uq({Phone:257457,[U._]:237186}),ExploreInFeed:n.Uq({Phone:257456,[U._]:247889}),SearchInFeed:n.Uq({Phone:257455,[U._]:241347})});case"production":return o.Z.matchX({HomepageHeader:(0,c.dY)(307172),SayThanksCardMobile:(0,c.dY)(219423),SayThanksCardTabletUp:(0,c.dY)(219424),TopicsInFeed:n.Uq({Phone:257453,[U._]:237209}),ExploreInFeed:n.Uq({Phone:257454,[U._]:247890}),SearchInFeed:n.Uq({Phone:257452,[U._]:241348})})}},y=({adEnv:e,adType:a,count:d,zoneId:r})=>({divName:b(a),zoneIds:I.of(r),count:d,networkId:(0,s.Pq)(e),siteId:(0,s.gE)(e),adTypes:I.of(5),properties:{}}),Y=e=>v.D9(a=>(0,i.Fs)(T.of(t.Um),T.ap((0,i.Fs)(e,y,I.of,T.of)),T.ap(T.L9((0,r.b)(a.shouldUseSecureCookies))),v.L9)),E=({adEnv:e,adType:a,count:d,zoneId:r})=>(0,i.Fs)(Y({adEnv:e,adType:a,count:d,zoneId:r}),S.lr,S.bK(e=>(0,i.Fs)(u.QP(t.YK)(s.H6,{method:"POST",headers:{[p.U2]:h.cM.Json},body:t.n_.encode(e)}),S.rR)),q.KR,q.mr,q.Tj(e=>(0,i.Fs)(e.decisions,m.$I(b(a)),j.qI(j.k$),j.Tj(I.Tj(e=>o.Ad.fromKevelAd({ad:I.d5(e.contents),decision:e})))))),X=e=>F.cy(a=>(0,i.Fs)(a,F.Mu(t.X6)(e),l.YW({onTrue:()=>(0,i.Fs)(a,F.ku(a=>t.X6.equals(a,e))),onFalse:(0,c.dY)([])}))),_=(e,a)=>I.pb((0,i.L3)(e=>X(e.metadata.advertiserId)(a),F.YW(c.ue,(0,i.L3)(F.zN(a=>(0,i.Fs)(e,k.Dc(t.X6)(a))),l.AU)))),g=f.Tj(j.qI(e=>(0,i.Fs)(e.template,t.Bj.match({"in-feed":a=>j.zN(o.Ad.mkInFeedAd({...e,template:a})),[U._]:(0,c.dY)(j.dv)})))),A=t.Bj.matchX({"kitchen-sink":!0,[U._]:!1}),x=t.Bj.matchX({"in-feed":!0,[U._]:!1}),L=o.Z.matchX({SayThanksCardMobile:A,SayThanksCardTabletUp:A,TopicsInFeed:x,HomepageHeader:(0,c.dY)(!0),ExploreInFeed:x,SearchInFeed:x})},76211:(e,a,d)=>{d.d(a,{mc:()=>Z,$9:()=>M,no:()=>w});var r=d(65723),s=d(39033),t=d(2553),n=d(31297),o=d(45208),c=d(35653),i=d(17536),l=d(8547),h=d(97692),p=d(81470),F=d(92777);let m=(0,d(66383).Mz)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var T=d(34776),k=d(38903),I=d(4730),u=d(30397),j=d(85540),v=d(83492),S=d(50556),q=d(59331),f=d(36419),U=d(38437),b=d(59790),C=d(33428),y=d(77956),Y=d(21239),E=d(47286),X=d(73036),_=d(99840),g=d(5540),A=d(27614),x=d(47688);let L=e=>{switch(e){case"development":return[[h.SS(2260292),h.SS(2260293)]];case"production":return[[h.SS(2262847),h.SS(1890533)]]}},H=U.z3(e=>["InvalidTemplatesError",{invalidAds:(0,j.Fs)(e,b.Tj(e=>({invalidTemplate:h.gY(e.template),flightId:e.metadata.flightId,creativeId:e.metadata.creativeId})))}]),w=({adType:e,count:a})=>{let d=(0,l.d)(m),r=(0,q.J)(e=>(0,j.Fs)(e,A.Tj(([e])=>e)),[d]),s=(0,p.r)(),t=(0,F.Y0)();return(0,q.J)(e=>{let d=(0,j.Fs)(e,A.Tj(e=>e[0]),A.F(k.Z.Eq.equals)),t=(0,j.Fs)(e,A.Tj(e=>e[1]),A.F(Y.nZ(T.Eq).equals)),n=(0,j.Fs)(y.CO((0,j.Fs)(d,y.K_),t),y.Tj(([e,a])=>(0,x.q4)(s.adEnv)(e)(a)),A.F(Y.nZ(g.Eq).equals));return(0,j.Fs)(y.CO((0,j.Fs)(d,y.K_),n),A.EY(r),A.Tj(([e,a])=>(0,j.Fs)(e,Y.Tj(([e,d])=>v.L8(e,d,a)))),y.HZ(([e,d,r])=>(0,j.Fs)(A.v6(()=>(0,j.Fs)((0,x.GL)({adEnv:s.adEnv,adType:e,count:3*a,zoneId:d}),E.Bb(s))),A.Mi((0,j.L3)(_.v6((0,S.dY)(X.IX),I.V0(C.aM),a=>(0,j.Fs)(a,Y.qI((0,j.L3)(f.ku(a=>(0,j.Fs)(a.template,(0,x.L1)(e))),b.ci,Y.Tj(I.V0(H)))),Y.ak(()=>X.IX))),I.Fe("KevelError"),I.eQ({directAdType:k.Z.Show.show(e)}),X.Gt(I.Sn),X.g7)),A.Tj(_.Tj(Y.qI((0,x.Xg)(r,L(s.adEnv))))))),A.Tj(Y.ak(()=>_.Vh)))},[e,t])},M=({adType:e,count:a,children:d})=>d((0,i.m)(w({adType:e,count:a}))),P=({metadata:e})=>(0,r.jsxs)(u.Ut5,{children:[(0,r.jsx)(n.j,{url:e.impressionUrl}),(0,j.Fs)(e.impressionTrackers,Y.f3(f.K$((e,a)=>(0,r.jsx)(n.j,{url:a},e))))]}),Z=({children:e,metadata:a,adType:d})=>{let n=(0,o.w)();return(0,c.J)(()=>{n(s.rc.mk.DirectAdImpression({metadata:a,adType:d}))}),(0,r.jsxs)(u.Ut5,{children:[e,(0,r.jsx)(t.A,{children:(0,r.jsx)(P,{metadata:a})})]})}},64315:(e,a,d)=>{d.d(a,{X:()=>i});var r=d(65723),s=d(39033),t=d(13975),n=d(45208),o=d(30397),c=d(32127);let i=({metadata:e,adType:a,...d})=>{let i=(0,n.w)(),l=o.hbB(()=>{i(s.rc.mk.Track(c.Jh.mk.DirectAdClick({metadata:e,adType:a})))},[e,a]);return(0,r.jsx)(t.p,{onClick:l,href:e.clickUrl,...d})}},17536:(e,a,d)=>{d.d(a,{m:()=>t});var r=d(23819),s=d(99840);let t=e=>(0,r.C)(e,s.Vh)},12117:(e,a,d)=>{d.d(a,{v:()=>i});var r=d(45152),s=d(91056),t=d(85540),n=d(325),o=d(21239);let c=(0,t.Fs)(s.ue,n.g7,o.t2(e=>"force_direct_ads"in e)),i=()=>(0,r.cC)()&&c}}]);